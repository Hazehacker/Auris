# 用户相关接口

## 接口1：用户登录

请求方式：POST

请求路径：`/user/login`

请求体示例：

```json
{
  "email": "user@example.com",
  "password": "123456"
}
```

> 说明：email为必填，password为必填

响应体示例：

```json
{
  "code": 200,
  "msg": "",
  "data": {
    "id": 1,
    "username": "张三",
    "avatar": "https://example.com/avatar.jpg",
    "email": "user@example.com",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

---

## 接口2：用户注册

请求方式：POST

请求路径：`/user/register`

请求体示例：

```json
{
  "username": "张三",
  "email": "user@example.com",
  "password": "123456"
}
```

> 说明：username为必填，email为必填，password为必填

响应体示例：

```json
{
  "code": 200,
  "msg": "",
  "data": {
    "id": 1,
    "username": "张三",
    "avatar": null,
    "email": "user@example.com",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

---

## 接口3：获取当前用户信息

请求方式：GET

请求路径：`/user/userinfo`

请求头：需要在请求头中携带JWT token

请求体示例：无

响应体示例：

```json
{
  "code": 200,
  "msg": "",
  "data": {
    "id": 1,
    "username": "张三",
    "avatar": "https://example.com/avatar.jpg",
    "gender": 1,
    "email": "user@example.com"
  }
}
```

> 说明：gender字段：0表示女，1表示男

---

## 接口4：退出登录

请求方式：POST

请求路径：`/user/logout`

请求头：需要在请求头中携带JWT token

请求体示例：无

响应体示例：

```json
{
  "code": 200,
  "msg": "",
  "data": null
}
```

---

## 接口5：修改用户信息

请求方式：PUT

请求路径：`/user/profile`

请求头：需要在请求头中携带JWT token

请求体示例：

```json
{
  "username": "李四",
  "email": "newemail@example.com",
  "avatar": "https://example.com/new-avatar.jpg",
  "gender": 0
}
```

> 说明：所有字段均为可选，只传需要修改的字段即可。username长度不能超过30个字符，email需要符合邮箱格式

响应体示例：

```json
{
  "code": 200,
  "msg": "",
  "data": {
    "id": 1,
    "username": "李四",
    "avatar": "https://example.com/new-avatar.jpg",
    "gender": 0,
    "email": "newemail@example.com"
  }
}
```

---







# 通用说明

### 响应状态码
- `code: 200` 表示请求成功
- `code: 0` 表示请求失败，错误信息在`msg`字段中

### 认证说明
除登录和注册接口外，其他接口均需要在请求头中携带JWT token，格式为：
```
authorization: Bearer {token}
```


### 错误响应示例

```json
{
  "code": 0,
  "msg": "邮箱或密码错误",
  "data": null
}
```
